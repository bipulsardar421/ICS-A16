<ng-template #addEditVendor let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">{{ what }}</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>

  <div class="modal-body">
    <form [formGroup]="userForm">
      <table class="table table-striped">
        <thead class="table-dark">
          <tr>
            <th scope="col">Sl. No</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Client</th>
            <th scope="col">Vendor</th>
            <th scope="col">Admin</th>
          </tr>
        </thead>
        <tbody formArrayName="users">
          <tr *ngFor="let user of getUsersControls(); let i = index" [formGroupName]="i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ user.get("name")?.value }}</td>
            <td>{{ user.get("email")?.value }}</td>
            <td>
              <input
                type="checkbox"
                formControlName="isClient"
                (change)="toggleRole(i, 'client')"
              />
            </td>
            <td>
              <input
                type="checkbox"
                formControlName="isVendor"
                (change)="toggleRole(i, 'vendor')"
              />
            </td>
            <td>
              <input
                type="checkbox"
                formControlName="isAdmin"
                (change)="toggleRole(i, 'admin')"
              />
            </td>
          </tr>
        </tbody>
        
      </table>
    </form>

    <button class="btn btn-primary mt-3" (click)="submitRoles()">Submit</button>
  </div>
</ng-template>
